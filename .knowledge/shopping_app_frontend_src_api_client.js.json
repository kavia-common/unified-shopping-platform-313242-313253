{"is_source_file": true, "format": "JavaScript", "description": "This file defines a client-side API wrapper for interacting with a backend service in a shopping platform. It includes an ApiClient class for making HTTP requests, error handling via ApiError, and utility functions such as extractErrorMessage. The client supports operations for authentication, product retrieval, cart management, and order processing.", "external_files": ["fetch", "process.env.REACT_APP_API_BASE_URL"], "external_methods": ["fetch"], "published": ["ApiError", "ApiClient"], "classes": [{"name": "ApiError", "description": "Custom error class to encapsulate API error responses, including message, status, and response data."}, {"name": "ApiClient", "description": "Main class for interacting with the backend API, supporting operations like authentication, product retrieval, cart management, and order processing."}], "methods": [{"name": "extractErrorMessage(data)", "description": "Helper function to parse and generate human-readable error messages from API responses.", "scope": "", "scopeKind": ""}, {"name": "ApiClient.constructor", "description": "Initializes the API client with optional configuration such as base URL, access token retrieval, and unauthorized callback."}, {"name": "ApiClient.request", "description": "Core method to perform HTTP requests with appropriate headers, error handling, and response parsing."}, {"name": "ApiClient.register", "description": "Sends a registration request to the backend."}, {"name": "ApiClient.login", "description": "Performs login via the backend API."}, {"name": "ApiClient.listProducts", "description": "Fetches a list of products."}, {"name": "ApiClient.getProduct", "description": "Retrieves details of a specific product by ID."}, {"name": "ApiClient.getCart", "description": "Fetches the current user's shopping cart."}, {"name": "ApiClient.upsertCartItem", "description": "Adds or updates an item in the shopping cart."}, {"name": "ApiClient.removeCartItem", "description": "Removes an item from the shopping cart."}, {"name": "ApiClient.clearCart", "description": "Clears all items from the cart."}, {"name": "ApiClient.checkout", "description": "Initiates the checkout process for the current cart."}, {"name": "ApiClient.listOrders", "description": "Retrieves the list of orders for the authenticated user."}, {"name": "ApiClient.getOrder", "description": "Fetches details of a specific order by ID."}, {"name": "checkout(payload = {})", "scope": "ApiClient", "scopeKind": "class", "description": "unavailable"}, {"name": "clearCart()", "scope": "ApiClient", "scopeKind": "class", "description": "unavailable"}, {"name": "constructor(message, status, data)", "scope": "ApiError", "scopeKind": "class", "description": "unavailable"}, {"name": "constructor(opts = {})", "scope": "ApiClient", "scopeKind": "class", "description": "unavailable"}, {"name": "getCart()", "scope": "ApiClient", "scopeKind": "class", "description": "unavailable"}, {"name": "getOrder(orderId)", "scope": "ApiClient", "scopeKind": "class", "description": "unavailable"}, {"name": "getProduct(productId)", "scope": "ApiClient", "scopeKind": "class", "description": "unavailable"}, {"name": "listOrders()", "scope": "ApiClient", "scopeKind": "class", "description": "unavailable"}, {"name": "listProducts()", "scope": "ApiClient", "scopeKind": "class", "description": "unavailable"}, {"name": "login(payload)", "scope": "ApiClient", "scopeKind": "class", "description": "unavailable"}, {"name": "register(payload)", "scope": "ApiClient", "scopeKind": "class", "description": "unavailable"}, {"name": "removeCartItem(cartItemId)", "scope": "ApiClient", "scopeKind": "class", "description": "unavailable"}, {"name": "request(method, path, options = {})", "scope": "ApiClient", "scopeKind": "class", "description": "unavailable"}, {"name": "upsertCartItem(payload)", "scope": "ApiClient", "scopeKind": "class", "description": "unavailable"}], "calls": ["fetch", "this.getAccessToken()", "this.onUnauthorized()", "this.request(\"POST\", \"/auth/register\", { body: payload })", "this.request(\"POST\", \"/auth/login\", { body: payload })", "this.request(\"GET\", \"/products\")", "this.request(\"GET\", `/products/${productId}`)", "this.request(\"GET\", \"/cart\")", "this.request(\"POST\", \"/cart/items\", { auth: true, body: payload })", "this.request(\"DELETE\", `/cart/items/${cartItemId}`)", "this.request(\"DELETE\", \"/cart\")", "this.request(\"POST\", \"/checkout\", { auth: true, body: payload })", "this.request(\"GET\", \"/orders\")", "this.request(\"GET\", `/orders/${orderId}`)"], "search-terms": ["ApiClient", "extractErrorMessage", "AUTH", "cart management", "product retrieval", "order processing", "API wrapper", "fetch API", "React environment variable"], "state": 2, "file_id": 13, "knowledge_revision": 45, "git_revision": "0df9ff6b6fa645176fd83dadd129c6ea2e1d6ca8", "ctags": [{"_type": "tag", "name": "Accept", "path": "/home/kavia/workspace/code-generation/unified-shopping-platform-313242-313253/shopping_app_frontend/src/api/client.js", "pattern": "/^      Accept: \"application\\/json\",$/", "language": "JavaScript", "kind": "property", "scope": "ApiClient.request.headers", "scopeKind": "class"}, {"_type": "tag", "name": "ApiClient", "path": "/home/kavia/workspace/code-generation/unified-shopping-platform-313242-313253/shopping_app_frontend/src/api/client.js", "pattern": "/^export class ApiClient {$/", "language": "JavaScript", "kind": "class"}, {"_type": "tag", "name": "ApiError", "path": "/home/kavia/workspace/code-generation/unified-shopping-platform-313242-313253/shopping_app_frontend/src/api/client.js", "pattern": "/^export class ApiError extends Error {$/", "language": "JavaScript", "kind": "class"}, {"_type": "tag", "name": "DEFAULT_BASE_URL", "path": "/home/kavia/workspace/code-generation/unified-shopping-platform-313242-313253/shopping_app_frontend/src/api/client.js", "pattern": "/^const DEFAULT_BASE_URL = process.env.REACT_APP_API_BASE_URL || \"http:\\/\\/localhost:3001\";$/", "language": "JavaScript", "kind": "constant"}, {"_type": "tag", "name": "checkout", "path": "/home/kavia/workspace/code-generation/unified-shopping-platform-313242-313253/shopping_app_frontend/src/api/client.js", "pattern": "/^  async checkout(payload = {}) {$/", "language": "JavaScript", "kind": "method", "signature": "(payload = {})", "scope": "ApiClient", "scopeKind": "class"}, {"_type": "tag", "name": "clearCart", "path": "/home/kavia/workspace/code-generation/unified-shopping-platform-313242-313253/shopping_app_frontend/src/api/client.js", "pattern": "/^  async clearCart() {$/", "language": "JavaScript", "kind": "method", "signature": "()", "scope": "ApiClient", "scopeKind": "class"}, {"_type": "tag", "name": "constructor", "path": "/home/kavia/workspace/code-generation/unified-shopping-platform-313242-313253/shopping_app_frontend/src/api/client.js", "pattern": "/^  constructor(message, status, data) {$/", "language": "JavaScript", "kind": "method", "signature": "(message, status, data)", "scope": "ApiError", "scopeKind": "class"}, {"_type": "tag", "name": "constructor", "path": "/home/kavia/workspace/code-generation/unified-shopping-platform-313242-313253/shopping_app_frontend/src/api/client.js", "pattern": "/^  constructor(opts = {}) {$/", "language": "JavaScript", "kind": "method", "signature": "(opts = {})", "scope": "ApiClient", "scopeKind": "class"}, {"_type": "tag", "name": "extractErrorMessage", "path": "/home/kavia/workspace/code-generation/unified-shopping-platform-313242-313253/shopping_app_frontend/src/api/client.js", "pattern": "/^function extractErrorMessage(data) {$/", "language": "JavaScript", "kind": "function", "signature": "(data)"}, {"_type": "tag", "name": "getCart", "path": "/home/kavia/workspace/code-generation/unified-shopping-platform-313242-313253/shopping_app_frontend/src/api/client.js", "pattern": "/^  async getCart() {$/", "language": "JavaScript", "kind": "method", "signature": "()", "scope": "ApiClient", "scopeKind": "class"}, {"_type": "tag", "name": "getOrder", "path": "/home/kavia/workspace/code-generation/unified-shopping-platform-313242-313253/shopping_app_frontend/src/api/client.js", "pattern": "/^  async getOrder(orderId) {$/", "language": "JavaScript", "kind": "method", "signature": "(orderId)", "scope": "ApiClient", "scopeKind": "class"}, {"_type": "tag", "name": "getProduct", "path": "/home/kavia/workspace/code-generation/unified-shopping-platform-313242-313253/shopping_app_frontend/src/api/client.js", "pattern": "/^  async getProduct(productId) {$/", "language": "JavaScript", "kind": "method", "signature": "(productId)", "scope": "ApiClient", "scopeKind": "class"}, {"_type": "tag", "name": "headers", "path": "/home/kavia/workspace/code-generation/unified-shopping-platform-313242-313253/shopping_app_frontend/src/api/client.js", "pattern": "/^    const headers = {$/", "language": "JavaScript", "kind": "class", "scope": "ApiClient.request", "scopeKind": "class"}, {"_type": "tag", "name": "listOrders", "path": "/home/kavia/workspace/code-generation/unified-shopping-platform-313242-313253/shopping_app_frontend/src/api/client.js", "pattern": "/^  async listOrders() {$/", "language": "JavaScript", "kind": "method", "signature": "()", "scope": "ApiClient", "scopeKind": "class"}, {"_type": "tag", "name": "listProducts", "path": "/home/kavia/workspace/code-generation/unified-shopping-platform-313242-313253/shopping_app_frontend/src/api/client.js", "pattern": "/^  async listProducts() {$/", "language": "JavaScript", "kind": "method", "signature": "()", "scope": "ApiClient", "scopeKind": "class"}, {"_type": "tag", "name": "login", "path": "/home/kavia/workspace/code-generation/unified-shopping-platform-313242-313253/shopping_app_frontend/src/api/client.js", "pattern": "/^  async login(payload) {$/", "language": "JavaScript", "kind": "method", "signature": "(payload)", "scope": "ApiClient", "scopeKind": "class"}, {"_type": "tag", "name": "register", "path": "/home/kavia/workspace/code-generation/unified-shopping-platform-313242-313253/shopping_app_frontend/src/api/client.js", "pattern": "/^  async register(payload) {$/", "language": "JavaScript", "kind": "method", "signature": "(payload)", "scope": "ApiClient", "scopeKind": "class"}, {"_type": "tag", "name": "removeCartItem", "path": "/home/kavia/workspace/code-generation/unified-shopping-platform-313242-313253/shopping_app_frontend/src/api/client.js", "pattern": "/^  async removeCartItem(cartItemId) {$/", "language": "JavaScript", "kind": "method", "signature": "(cartItemId)", "scope": "ApiClient", "scopeKind": "class"}, {"_type": "tag", "name": "request", "path": "/home/kavia/workspace/code-generation/unified-shopping-platform-313242-313253/shopping_app_frontend/src/api/client.js", "pattern": "/^  async request(method, path, options = {}) {$/", "language": "JavaScript", "kind": "method", "signature": "(method, path, options = {})", "scope": "ApiClient", "scopeKind": "class"}, {"_type": "tag", "name": "upsertCartItem", "path": "/home/kavia/workspace/code-generation/unified-shopping-platform-313242-313253/shopping_app_frontend/src/api/client.js", "pattern": "/^  async upsertCartItem(payload) {$/", "language": "JavaScript", "kind": "method", "signature": "(payload)", "scope": "ApiClient", "scopeKind": "class"}], "hash": "6dc495f6a8d51abc5460e81998a86ce5", "format-version": 4, "code-base-name": "shopping_app_frontend", "filename": "shopping_app_frontend/src/api/client.js", "fields": [{"name": "Accept: \"application\\/json\",", "scope": "ApiClient.request.headers", "scopeKind": "class", "description": "unavailable"}], "revision_history": [{"45": "0df9ff6b6fa645176fd83dadd129c6ea2e1d6ca8"}]}